{{ block title }} Main game {{ endblock }} 

{{ block styles }}
<link href="{{ static 'global/fullscreen.css' }}" rel="stylesheet" />
<link href="{{ static 'global/common.css' }}" rel="stylesheet" />
<link href="{{ static 'demo_puzzle.css' }}" rel="stylesheet" />
{{ endblock }} 

{{ block content }}

<div class="main">
  <p>Difficulty: <span ot-text="trial.difficulty"></span></p>
  <div class="grid">
    <div class="cell" ot-class="cellClasses.0" ot-text="trial.board.0" ot-click ot-touch ot-input value="0"></div>
    <div class="cell" ot-class="cellClasses.1" ot-text="trial.board.1" ot-click ot-touch ot-input value="1"></div>
    <div class="cell" ot-class="cellClasses.2" ot-text="trial.board.2" ot-click ot-touch ot-input value="2"></div>
    <div class="cell" ot-class="cellClasses.3" ot-text="trial.board.3" ot-click ot-touch ot-input value="3"></div>
    <div class="cell" ot-class="cellClasses.4" ot-text="trial.board.4" ot-click ot-touch ot-input value="4"></div>
    <div class="cell" ot-class="cellClasses.5" ot-text="trial.board.5" ot-click ot-touch ot-input value="5"></div>
    <div class="cell" ot-class="cellClasses.6" ot-text="trial.board.6" ot-click ot-touch ot-input value="6"></div>
    <div class="cell" ot-class="cellClasses.7" ot-text="trial.board.7" ot-click ot-touch ot-input value="7"></div>
    <div class="cell" ot-class="cellClasses.8" ot-text="trial.board.8" ot-click ot-touch ot-input value="8"></div>
  </div>
</div>

<div>
  {{ if C.NUM_TRIALS }}<progress ot-max="progress.total" ot-value="progress.completed"></progress>{{ endif }}
  <progress ot-max="config.trial_timeout" ot-value="trial_timer"></progress>
  <p>Moves: <span ot-text="progress.moves"></span></p>
  {{ if C.LIMIT_MOVES }}<progress ot-max="trial.difficulty" ot-value="progress.moves"></progress>{{ endif }}
</div>

<div class="bottom">
  <div ot-when="feedback.error.code=='moveValid'">Invalid move!</div>
  <div ot-when="status.trialSuccessful==true">Puzzle solved!</div>
  <div ot-when="status.trialSuccessful==false">Puzzle failed!</div>
</div>

<div class="overlay get-ready" ot-ready ot-key="Space" ot-touch ot-click>
  {{ include C.INSTRUCTIONS }}
  <p>Press <kbd>Space</kbd> or click the message to start.</p>
</div>

{{ endblock }} 

{{ block scripts }}
<script type="module" src="{{ static 'otree-front-1.0.0.js' }}"></script>
<script src="{{ static 'otree-front-live.js' }}"></script>
<script src="{{ static 'demo_puzzle_utils.js' }}"></script>
<script src="{{ static 'demo_puzzle_live.js' }}"></script>
{{ endblock }}
